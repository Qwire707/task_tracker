{% extends 'base.html' %}
{% block title %}–ó–∞–¥–∞—á–∞{{ task.name }}{% endblock%}
{% block content %}
<div class="container text-start my-3">
  <a type="button" class="btn btn-primary" href="{% url 'tasks-list' %}">–ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—å –¥–æ –≤—Å—ñ—Ö –∑–∞–¥–∞—á</a>
  <a type="button" class="btn btn-warning" href="{% url 'tasks-update' task.pk %}">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏</a>
  <a type="button" class="btn btn-danger" href="{% url 'tasks-delete' task.pk %}">–í–∏–¥–∞–ª–∏—Ç–∏</a>
</div>

<style>
.card {
  border: none;
  border-radius: 16px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  overflow: hidden;
  transition: 0.3s ease;
}
.card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.1);
}
.list-group-item {
  border: none;
  padding: 14px 20px;
  font-size: 15px;
}
.list-group-item:first-child {
  font-weight: 600;
  font-size: 17px;
  background: #f9fafb;
}
.list-group-item:not(:first-child):hover {
  background: #f6f8fa;
}

</style>

<div class="card mb-3">
  <ul class="list-group list-group-flush">
    <li class="list-group-item"><b>{{ task.name }}</b></li>
    <li class="list-group-item">{{ task.description }}</li>
    <li class="list-group-item">{{ task.status }}</li>
    <li class="list-group-item">{{ task.priority }}</li>
    {% if task.due_date %}
      <li class="list-group-item text-muted">–î–µ–¥–ª–∞–π–Ω: {{ task.due_date|date:"d M Y" }}</li>
    {% endif %}
    <li class="list-group-item text-muted">–°—Ç–≤–æ—Ä–µ–Ω–æ: {{ task.created_at|date:"d M Y" }}</li>
  </ul>
</div>

<div class="container my-4">
  <div class="card shadow-sm p-4">
    <h5 class="mb-3">üí¨ –î–æ–¥–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä</h5>
    <form method="POST" enctype="multipart/form-data">
      {% csrf_token %}
      <div class="mb-3">
        {{ comment_form.as_p }}
      </div>
      <button type="submit" class="btn btn-primary w-100">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏</button>
    </form>
  </div>
</div>

<div class="container text-center">
    <div class="row">
    <h2>–ö–æ–º–µ–Ω—Ç–∞—Ä—ñ:</h2>
</div>


{% for comment in comments%}
<div class="card" style="width: 18rem;">
  {%if comment.media %}
  <img src="{{ comment.media.url }}" class="card-img-top" style="max-width: 300px; height: auto;" alt="–§–æ—Ç–æ">
  {% endif %}
  <div class="card-body">
    <p class="card-text">{{ comment.content }}</p>
  </div>
</div>
    {% endfor %}
</div>

{% endblock %}